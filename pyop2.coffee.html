<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pyop2.coffee package &mdash; PyOP2 0.11.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.11.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="PyOP2 0.11.0 documentation" href="index.html" />
    <link rel="up" title="pyop2 package" href="pyop2.html" />
    <link rel="prev" title="pyop2 package" href="pyop2.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pyop2.html" title="pyop2 package"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PyOP2 0.11.0 documentation</a> &raquo;</li>
          <li><a href="pyop2.html" accesskey="U">pyop2 package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pyop2-coffee-package">
<h1>pyop2.coffee package<a class="headerlink" href="#pyop2-coffee-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyop2.coffee.ast_autotuner">
<span id="pyop2-coffee-ast-autotuner-module"></span><h2>pyop2.coffee.ast_autotuner module<a class="headerlink" href="#module-pyop2.coffee.ast_autotuner" title="Permalink to this headline">¶</a></h2>
<p>COFFEE&#8217;s autotuning system.</p>
<dl class="class">
<dt id="pyop2.coffee.ast_autotuner.Autotuner">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_autotuner.</tt><tt class="descname">Autotuner</tt><span class="sig-paren">(</span><em>variants</em>, <em>itspace</em>, <em>include</em>, <em>compiler</em>, <em>isa</em>, <em>blas</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_autotuner.Autotuner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Initialize the autotuner.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variants</strong> &#8211; list of (ast, used_optimizations) for autotuning</li>
<li><strong>itspace</strong> &#8211; kernel&#8217;s iteration space</li>
<li><strong>include</strong> &#8211; list of directories to be searched for header files</li>
<li><strong>compiler</strong> &#8211; backend compiler info</li>
<li><strong>isa</strong> &#8211; instruction set architecture info</li>
<li><strong>blas</strong> &#8211; COFFEE&#8217;s dense linear algebra library info</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyop2.coffee.ast_autotuner.Autotuner.tune">
<tt class="descname">tune</tt><span class="sig-paren">(</span><em>resolution</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_autotuner.Autotuner.tune" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the fastest kernel implementation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resolution</strong> &#8211; the amount of time in milliseconds a kernel is run.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyop2.coffee.ast_base">
<span id="pyop2-coffee-ast-base-module"></span><h2>pyop2.coffee.ast_base module<a class="headerlink" href="#module-pyop2.coffee.ast_base" title="Permalink to this headline">¶</a></h2>
<p>This file contains the hierarchy of classes that implement a kernel&#8217;s
Abstract Syntax Tree (ast).</p>
<dl class="function">
<dt id="pyop2.coffee.ast_base.point">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">point</tt><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.point" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.point_ofs">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">point_ofs</tt><span class="sig-paren">(</span><em>p</em>, <em>o</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.point_ofs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.point_ofs_stride">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">point_ofs_stride</tt><span class="sig-paren">(</span><em>p</em>, <em>o</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.point_ofs_stride" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.assign">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">assign</tt><span class="sig-paren">(</span><em>s</em>, <em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.assign" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.incr">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">incr</tt><span class="sig-paren">(</span><em>s</em>, <em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.incr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.incr_by_1">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">incr_by_1</tt><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.incr_by_1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.decr">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">decr</tt><span class="sig-paren">(</span><em>s</em>, <em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.decr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.decr_by_1">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">decr_by_1</tt><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.decr_by_1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.idiv">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">idiv</tt><span class="sig-paren">(</span><em>s</em>, <em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.idiv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.imul">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">imul</tt><span class="sig-paren">(</span><em>s</em>, <em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.imul" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.wrap">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">wrap</tt><span class="sig-paren">(</span><em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.wrap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.bracket">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">bracket</tt><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.bracket" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.decl">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">decl</tt><span class="sig-paren">(</span><em>q</em>, <em>t</em>, <em>s</em>, <em>a</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.decl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.decl_init">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">decl_init</tt><span class="sig-paren">(</span><em>q</em>, <em>t</em>, <em>s</em>, <em>a</em>, <em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.decl_init" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.for_loop">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">for_loop</tt><span class="sig-paren">(</span><em>s1</em>, <em>e</em>, <em>s2</em>, <em>s3</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.for_loop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.ternary">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">ternary</tt><span class="sig-paren">(</span><em>e</em>, <em>s1</em>, <em>s2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.ternary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.as_symbol">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">as_symbol</tt><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.as_symbol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Perfect">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Perfect</tt><a class="headerlink" href="#pyop2.coffee.ast_base.Perfect" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Dummy mixin class used to decorate classes which can form part
of a perfect loop nest.</p>
</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Node">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Node</tt><span class="sig-paren">(</span><em>children=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>The base class of the AST.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Node.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Node.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Root">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Root</tt><span class="sig-paren">(</span><em>children=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Root" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Node" title="pyop2.coffee.ast_base.Node"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Node</span></tt></a></p>
<p>Root of the AST.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Root.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Root.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Expr">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Expr</tt><span class="sig-paren">(</span><em>children=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Node" title="pyop2.coffee.ast_base.Node"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Node</span></tt></a></p>
<p>Generic expression.</p>
</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.BinExpr">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">BinExpr</tt><span class="sig-paren">(</span><em>expr1</em>, <em>expr2</em>, <em>op</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.BinExpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Expr" title="pyop2.coffee.ast_base.Expr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Expr</span></tt></a></p>
<p>Generic binary expression.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.BinExpr.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.BinExpr.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.UnaryExpr">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">UnaryExpr</tt><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.UnaryExpr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Expr" title="pyop2.coffee.ast_base.Expr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Expr</span></tt></a></p>
<p>Generic unary expression.</p>
</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Neg">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Neg</tt><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Neg" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.UnaryExpr" title="pyop2.coffee.ast_base.UnaryExpr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.UnaryExpr</span></tt></a></p>
<p>Unary negation of an expression</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Neg.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Neg.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.ArrayInit">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">ArrayInit</tt><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.ArrayInit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Expr" title="pyop2.coffee.ast_base.Expr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Expr</span></tt></a></p>
<p>Array Initilizer. A n-dimensional array A can be statically initialized
to some values. For example</p>
<div class="highlight-python"><div class="highlight"><pre>A[3][3] = {{0.0}} or A[3] = {1, 1, 1}.
</pre></div>
</div>
<p>At the moment, initial values like <tt class="docutils literal"><span class="pre">{{0.0}}</span></tt> and <tt class="docutils literal"><span class="pre">{1,</span> <span class="pre">1,</span> <span class="pre">1}</span></tt> are passed
in as simple strings.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.ArrayInit.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.ArrayInit.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.ColSparseArrayInit">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">ColSparseArrayInit</tt><span class="sig-paren">(</span><em>values</em>, <em>nonzero_bounds</em>, <em>numpy_values</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.ColSparseArrayInit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.ArrayInit" title="pyop2.coffee.ast_base.ArrayInit"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.ArrayInit</span></tt></a></p>
<p>Array initilizer in which zero-columns, i.e. columns full of zeros, are
explictly tracked. Only bi-dimensional arrays are allowed.</p>
<p>Zero columns are tracked once the object is instantiated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>values</strong> &#8211; string representation of the values the array is initialized to</li>
<li><strong>zerobounds</strong> &#8211; a tuple of two integers indicating the indices of the first
and last nonzero columns</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyop2.coffee.ast_base.ColSparseArrayInit.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.ColSparseArrayInit.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Par">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Par</tt><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Par" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.UnaryExpr" title="pyop2.coffee.ast_base.UnaryExpr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.UnaryExpr</span></tt></a></p>
<p>Parenthesis object.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Par.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Par.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Sum">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Sum</tt><span class="sig-paren">(</span><em>expr1</em>, <em>expr2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.BinExpr" title="pyop2.coffee.ast_base.BinExpr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.BinExpr</span></tt></a></p>
<p>Binary sum.</p>
</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Sub">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Sub</tt><span class="sig-paren">(</span><em>expr1</em>, <em>expr2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.BinExpr" title="pyop2.coffee.ast_base.BinExpr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.BinExpr</span></tt></a></p>
<p>Binary subtraction.</p>
</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Prod">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Prod</tt><span class="sig-paren">(</span><em>expr1</em>, <em>expr2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Prod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.BinExpr" title="pyop2.coffee.ast_base.BinExpr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.BinExpr</span></tt></a></p>
<p>Binary product.</p>
</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Div">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Div</tt><span class="sig-paren">(</span><em>expr1</em>, <em>expr2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Div" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.BinExpr" title="pyop2.coffee.ast_base.BinExpr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.BinExpr</span></tt></a></p>
<p>Binary division.</p>
</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Less">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Less</tt><span class="sig-paren">(</span><em>expr1</em>, <em>expr2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Less" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.BinExpr" title="pyop2.coffee.ast_base.BinExpr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.BinExpr</span></tt></a></p>
<p>Compare two expressions using the operand <tt class="docutils literal"><span class="pre">&lt;</span></tt>.</p>
</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.FunCall">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">FunCall</tt><span class="sig-paren">(</span><em>function_name</em>, <em>*args</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.FunCall" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Expr" title="pyop2.coffee.ast_base.Expr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Expr</span></tt></a>, <a class="reference internal" href="#pyop2.coffee.ast_base.Perfect" title="pyop2.coffee.ast_base.Perfect"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Perfect</span></tt></a></p>
<p>Function call.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.FunCall.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.FunCall.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Ternary">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Ternary</tt><span class="sig-paren">(</span><em>expr</em>, <em>true_stmt</em>, <em>false_stmt</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Ternary" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Expr" title="pyop2.coffee.ast_base.Expr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Expr</span></tt></a></p>
<p>Ternary operator: <tt class="docutils literal"><span class="pre">expr</span> <span class="pre">?</span> <span class="pre">true_stmt</span> <span class="pre">:</span> <span class="pre">false_stmt</span></tt>.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Ternary.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Ternary.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Symbol">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Symbol</tt><span class="sig-paren">(</span><em>symbol</em>, <em>rank=()</em>, <em>offset=()</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Expr" title="pyop2.coffee.ast_base.Expr"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Expr</span></tt></a></p>
<p>A generic symbol. The length of <tt class="docutils literal"><span class="pre">rank</span></tt> is the tensor rank:</p>
<ul class="simple">
<li>0: scalar</li>
<li>1: array</li>
<li>2: matrix, etc.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>rank</strong> (<em>tuple</em>) &#8211; entries represent the iteration variables the symbol
depends on, or explicit numbers representing the entry of a tensor the
symbol is accessing, or the size of the tensor itself.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Symbol.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Symbol.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXSum">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXSum</tt><span class="sig-paren">(</span><em>expr1</em>, <em>expr2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXSum" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Sum" title="pyop2.coffee.ast_base.Sum"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Sum</span></tt></a></p>
<p>Sum of two vector registers using AVX intrinsics.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXSum.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXSum.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXSub">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXSub</tt><span class="sig-paren">(</span><em>expr1</em>, <em>expr2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXSub" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Sub" title="pyop2.coffee.ast_base.Sub"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Sub</span></tt></a></p>
<p>Subtraction of two vector registers using AVX intrinsics.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXSub.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXSub.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXProd">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXProd</tt><span class="sig-paren">(</span><em>expr1</em>, <em>expr2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXProd" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Prod" title="pyop2.coffee.ast_base.Prod"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Prod</span></tt></a></p>
<p>Product of two vector registers using AVX intrinsics.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXProd.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXProd.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXDiv">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXDiv</tt><span class="sig-paren">(</span><em>expr1</em>, <em>expr2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXDiv" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Div" title="pyop2.coffee.ast_base.Div"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Div</span></tt></a></p>
<p>Division of two vector registers using AVX intrinsics.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXDiv.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXDiv.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXLoad">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXLoad</tt><span class="sig-paren">(</span><em>symbol</em>, <em>rank=()</em>, <em>offset=()</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXLoad" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Symbol" title="pyop2.coffee.ast_base.Symbol"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Symbol</span></tt></a></p>
<p>Load of values in a vector register using AVX intrinsics.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXLoad.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXLoad.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXSet">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXSet</tt><span class="sig-paren">(</span><em>symbol</em>, <em>rank=()</em>, <em>offset=()</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Symbol" title="pyop2.coffee.ast_base.Symbol"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Symbol</span></tt></a></p>
<p>Replicate the symbol&#8217;s value in all slots of a vector register
using AVX intrinsics.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXSet.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXSet.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Statement">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Statement</tt><span class="sig-paren">(</span><em>children=None</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Statement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Node" title="pyop2.coffee.ast_base.Node"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Node</span></tt></a></p>
<p>Base class for commands productions.</p>
</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.EmptyStatement">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">EmptyStatement</tt><span class="sig-paren">(</span><em>children=None</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.EmptyStatement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a>, <a class="reference internal" href="#pyop2.coffee.ast_base.Perfect" title="pyop2.coffee.ast_base.Perfect"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Perfect</span></tt></a></p>
<p>Empty statement.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.EmptyStatement.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.EmptyStatement.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.FlatBlock">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">FlatBlock</tt><span class="sig-paren">(</span><em>code</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.FlatBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a></p>
<p>Treat a chunk of code as a single statement, i.e. a C string</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.FlatBlock.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.FlatBlock.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Assign">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Assign</tt><span class="sig-paren">(</span><em>sym</em>, <em>exp</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Assign" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a>, <a class="reference internal" href="#pyop2.coffee.ast_base.Perfect" title="pyop2.coffee.ast_base.Perfect"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Perfect</span></tt></a></p>
<p>Assign an expression to a symbol.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Assign.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Assign.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Incr">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Incr</tt><span class="sig-paren">(</span><em>sym</em>, <em>exp</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Incr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a>, <a class="reference internal" href="#pyop2.coffee.ast_base.Perfect" title="pyop2.coffee.ast_base.Perfect"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Perfect</span></tt></a></p>
<p>Increment a symbol by an expression.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Incr.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Incr.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Decr">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Decr</tt><span class="sig-paren">(</span><em>sym</em>, <em>exp</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Decr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a>, <a class="reference internal" href="#pyop2.coffee.ast_base.Perfect" title="pyop2.coffee.ast_base.Perfect"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Perfect</span></tt></a></p>
<p>Decrement a symbol by an expression.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Decr.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Decr.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.IMul">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">IMul</tt><span class="sig-paren">(</span><em>sym</em>, <em>exp</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.IMul" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a>, <a class="reference internal" href="#pyop2.coffee.ast_base.Perfect" title="pyop2.coffee.ast_base.Perfect"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Perfect</span></tt></a></p>
<p>In-place multiplication of a symbol by an expression.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.IMul.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.IMul.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.IDiv">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">IDiv</tt><span class="sig-paren">(</span><em>sym</em>, <em>exp</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.IDiv" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a>, <a class="reference internal" href="#pyop2.coffee.ast_base.Perfect" title="pyop2.coffee.ast_base.Perfect"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Perfect</span></tt></a></p>
<p>In-place division of a symbol by an expression.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.IDiv.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.IDiv.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Decl">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Decl</tt><span class="sig-paren">(</span><em>typ</em>, <em>sym</em>, <em>init=None</em>, <em>qualifiers=None</em>, <em>attributes=None</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Decl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a>, <a class="reference internal" href="#pyop2.coffee.ast_base.Perfect" title="pyop2.coffee.ast_base.Perfect"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Perfect</span></tt></a></p>
<p>Declaration of a symbol.</p>
<p>Syntax:</p>
<div class="highlight-python"><div class="highlight"><pre>[qualifiers] typ sym [attributes] [= init];
</pre></div>
</div>
<p>E.g.:</p>
<div class="highlight-python"><div class="highlight"><pre>static const double FE0[3][3] __attribute__(align(32)) = {{...}};
</pre></div>
</div>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Decl.size">
<tt class="descname">size</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Decl.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the size of the declared variable. In particular, return</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">(0,)</span></tt>, if it is a scalar</li>
<li>a tuple, if it is a N-dimensional array, such that each entry
represents the size of an array dimension (e.g. <tt class="docutils literal"><span class="pre">double</span> <span class="pre">A[20][10]</span></tt>
-&gt; <tt class="docutils literal"><span class="pre">(20,</span> <span class="pre">10)</span></tt>)</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_base.Decl.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Decl.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_base.Decl.get_nonzero_columns">
<tt class="descname">get_nonzero_columns</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Decl.get_nonzero_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>If the declared array:</p>
<ul class="simple">
<li>is a bi-dimensional array,</li>
<li>is initialized to some values,</li>
<li>the initialized values are of type ColSparseArrayInit</li>
</ul>
<p>Then return a tuple of the first and last non-zero columns in the array.
Else, return an empty tuple.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Block">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Block</tt><span class="sig-paren">(</span><em>stmts</em>, <em>pragma=None</em>, <em>open_scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Block" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a></p>
<p>Block of statements.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Block.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Block.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.For">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">For</tt><span class="sig-paren">(</span><em>init</em>, <em>cond</em>, <em>incr</em>, <em>body</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.For" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a></p>
<p>Represent the classic for loop of an imperative language, although
some restrictions must be considered: only a single iteration variable
can be declared and modified (i.e. it is not supported something like</p>
<div class="highlight-python"><div class="highlight"><pre>for (int i = 0, j = 0; ...)
</pre></div>
</div>
<dl class="method">
<dt id="pyop2.coffee.ast_base.For.it_var">
<tt class="descname">it_var</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.For.it_var" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_base.For.start">
<tt class="descname">start</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.For.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_base.For.end">
<tt class="descname">end</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.For.end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_base.For.size">
<tt class="descname">size</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.For.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_base.For.increment">
<tt class="descname">increment</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.For.increment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_base.For.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.For.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.Switch">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">Switch</tt><span class="sig-paren">(</span><em>switch_expr</em>, <em>cases</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Switch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a></p>
<p>Switch construct.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>switch_expr</strong> &#8211; The expression over which to switch.</li>
<li><strong>cases</strong> &#8211; A tuple of pairs ((case, statement),...)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyop2.coffee.ast_base.Switch.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.Switch.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.FunDecl">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">FunDecl</tt><span class="sig-paren">(</span><em>ret</em>, <em>name</em>, <em>args</em>, <em>body</em>, <em>pred=</em>, <span class="optional">[</span><span class="optional">]</span><em>headers=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.FunDecl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a></p>
<p>Function declaration.</p>
<p>Syntax:</p>
<div class="highlight-python"><div class="highlight"><pre>[pred] ret name ([args]) {body};
</pre></div>
</div>
<p>E.g.:</p>
<div class="highlight-python"><div class="highlight"><pre>static inline void foo(int a, int b) {return;};
</pre></div>
</div>
<dl class="method">
<dt id="pyop2.coffee.ast_base.FunDecl.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.FunDecl.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXStore">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXStore</tt><span class="sig-paren">(</span><em>sym</em>, <em>exp</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Assign" title="pyop2.coffee.ast_base.Assign"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Assign</span></tt></a></p>
<p>Store of values in a vector register using AVX intrinsics.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXStore.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXStore.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXLocalPermute">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXLocalPermute</tt><span class="sig-paren">(</span><em>r</em>, <em>mask</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXLocalPermute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a></p>
<p>Permutation of values in a vector register using AVX intrinsics.
The intrinsic function used is <tt class="docutils literal"><span class="pre">_mm256_permute_pd</span></tt>.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXLocalPermute.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXLocalPermute.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXGlobalPermute">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXGlobalPermute</tt><span class="sig-paren">(</span><em>r1</em>, <em>r2</em>, <em>mask</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXGlobalPermute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a></p>
<p>Permutation of values in two vector registers using AVX intrinsics.
The intrinsic function used is <tt class="docutils literal"><span class="pre">_mm256_permute2f128_pd</span></tt>.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXGlobalPermute.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXGlobalPermute.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXUnpackHi">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXUnpackHi</tt><span class="sig-paren">(</span><em>r1</em>, <em>r2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXUnpackHi" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a></p>
<p>Unpack of values in a vector register using AVX intrinsics.
The intrinsic function used is <tt class="docutils literal"><span class="pre">_mm256_unpackhi_pd</span></tt>.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXUnpackHi.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXUnpackHi.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXUnpackLo">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXUnpackLo</tt><span class="sig-paren">(</span><em>r1</em>, <em>r2</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXUnpackLo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a></p>
<p>Unpack of values in a vector register using AVX intrinsics.
The intrinsic function used is <tt class="docutils literal"><span class="pre">_mm256_unpacklo_pd</span></tt>.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXUnpackLo.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXUnpackLo.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.AVXSetZero">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">AVXSetZero</tt><span class="sig-paren">(</span><em>children=None</em>, <em>pragma=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXSetZero" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Statement" title="pyop2.coffee.ast_base.Statement"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Statement</span></tt></a></p>
<p>Set to 0 the entries of a vector register using AVX intrinsics.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.AVXSetZero.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.AVXSetZero.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_base.PreprocessNode">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">PreprocessNode</tt><span class="sig-paren">(</span><em>prep</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.PreprocessNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_base.Node" title="pyop2.coffee.ast_base.Node"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_base.Node</span></tt></a></p>
<p>Represent directives which are handled by the C&#8217;s preprocessor.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_base.PreprocessNode.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><em>scope=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.PreprocessNode.gencode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.indent">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">indent</tt><span class="sig-paren">(</span><em>block</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.indent" title="Permalink to this definition">¶</a></dt>
<dd><p>Indent each row of the given string block with <tt class="docutils literal"><span class="pre">n*2</span></tt> spaces.</p>
</dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.semicolon">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">semicolon</tt><span class="sig-paren">(</span><em>scope</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.semicolon" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.c_sym">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">c_sym</tt><span class="sig-paren">(</span><em>const</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.c_sym" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.c_for">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">c_for</tt><span class="sig-paren">(</span><em>var</em>, <em>to</em>, <em>code</em>, <em>pragma='#pragma pyop2 itspace'</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.c_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.c_flat_for">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">c_flat_for</tt><span class="sig-paren">(</span><em>code</em>, <em>parent</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.c_flat_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_base.c_from_itspace_to_fors">
<tt class="descclassname">pyop2.coffee.ast_base.</tt><tt class="descname">c_from_itspace_to_fors</tt><span class="sig-paren">(</span><em>itspaces</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_base.c_from_itspace_to_fors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pyop2.coffee.ast_linearalgebra">
<span id="pyop2-coffee-ast-linearalgebra-module"></span><h2>pyop2.coffee.ast_linearalgebra module<a class="headerlink" href="#module-pyop2.coffee.ast_linearalgebra" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyop2.coffee.ast_linearalgebra.AssemblyLinearAlgebra">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_linearalgebra.</tt><tt class="descname">AssemblyLinearAlgebra</tt><span class="sig-paren">(</span><em>assembly_optimizer</em>, <em>kernel_decls</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_linearalgebra.AssemblyLinearAlgebra" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Convert assembly code into sequences of calls to external dense linear
algebra libraries. Currently, MKL, ATLAS, and EIGEN are supported.</p>
<p>Initialize an AssemblyLinearAlgebra object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>assembly_optimizer</strong> &#8211; an AssemblyOptimizer object of the AST</li>
<li><strong>kernel_decls</strong> &#8211; list of declarations used in the AST</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyop2.coffee.ast_linearalgebra.AssemblyLinearAlgebra.transform">
<tt class="descname">transform</tt><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_linearalgebra.AssemblyLinearAlgebra.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform perfect loop nests representing matrix-matrix multiplies into
calls to a dense linear algebra library.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>library</strong> &#8211; the BLAS library that should be used (mkl, atlas, eigen).</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyop2.coffee.ast_optimizer">
<span id="pyop2-coffee-ast-optimizer-module"></span><h2>pyop2.coffee.ast_optimizer module<a class="headerlink" href="#module-pyop2.coffee.ast_optimizer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyop2.coffee.ast_optimizer.AssemblyOptimizer">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_optimizer.</tt><tt class="descname">AssemblyOptimizer</tt><span class="sig-paren">(</span><em>loop_nest</em>, <em>pre_header</em>, <em>kernel_decls</em>, <em>is_mixed</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyOptimizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Assembly optimiser interface class</p>
<p>Initialize the AssemblyOptimizer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>loop_nest</strong> &#8211; root node of the local assembly code.</li>
<li><strong>pre_header</strong> &#8211; parent of the root node</li>
<li><strong>kernel_decls</strong> &#8211; list of declarations of variables which are visible
within the local assembly code block.</li>
<li><strong>is_mixed</strong> &#8211; true if the assembly operation uses mixed (vector)
function spaces.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.AssemblyOptimizer.extract_itspace">
<tt class="descname">extract_itspace</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyOptimizer.extract_itspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove fully-parallel loop from the iteration space. These are
the loops that were marked by the user/higher layer with a <tt class="docutils literal"><span class="pre">pragma</span>
<span class="pre">pyop2</span> <span class="pre">itspace</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.AssemblyOptimizer.rewrite">
<tt class="descname">rewrite</tt><span class="sig-paren">(</span><em>level</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyOptimizer.rewrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Rewrite an assembly expression to minimize floating point operations
and relieve register pressure. This involves several possible transformations:</p>
<ol class="arabic simple">
<li>Generalized loop-invariant code motion</li>
<li>Factorization of common loop-dependent terms</li>
<li>Expansion of constants over loop-dependent terms</li>
<li>Zero-valued columns avoidance</li>
<li>Precomputation of integration-dependent terms</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>level</strong> &#8211; <p>The optimization level (0, 1, 2, 3, 4). The higher, the more
invasive is the re-writing of the assembly expressions,
trying to eliminate unnecessary floating point operations.</p>
<ul class="simple">
<li>level == 1: performs &#8220;basic&#8221; generalized loop-invariant                                   code motion</li>
<li>level == 2: level 1 + expansion of terms, factorization of                                   basis functions appearing multiple times in the                                   same expression, and finally another run of                                   loop-invariant code motion to move invariant                                   sub-expressions exposed by factorization</li>
<li>level == 3: level 2 + avoid computing zero-columns</li>
<li>level == 4: level 3 + precomputation of read-only expressions                                   out of the assembly loop nest</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.AssemblyOptimizer.slice">
<tt class="descname">slice</tt><span class="sig-paren">(</span><em>slice_factor=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyOptimizer.slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform slicing of the innermost loop to enhance register reuse.
For example, given a loop:</p>
<div class="highlight-none"><div class="highlight"><pre>for i = 0 to N
  f()
</pre></div>
</div>
<p>the following sequence of loops is generated:</p>
<div class="highlight-none"><div class="highlight"><pre>for i = 0 to k
  f()
for i = k to 2k
  f()
# ...
for i = (N-1)k to N
  f()
</pre></div>
</div>
<p>The goal is to improve register re-use by relying on the backend
compiler unrolling and vector-promoting the sliced loops.</p>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.AssemblyOptimizer.unroll">
<tt class="descname">unroll</tt><span class="sig-paren">(</span><em>loops_factor</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyOptimizer.unroll" title="Permalink to this definition">¶</a></dt>
<dd><p>Unroll loops in the assembly nest.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>loops_factor</strong> &#8211; <p>dictionary from loops to unroll (factor, increment).
Loops are specified as integers:</p>
<ul class="simple">
<li>0 = integration loop,</li>
<li>1 = test functions loop,</li>
<li>2 = trial functions loop.</li>
</ul>
<p>A factor of 0 denotes that the corresponding loop is not present.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.AssemblyOptimizer.permute">
<tt class="descname">permute</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyOptimizer.permute" title="Permalink to this definition">¶</a></dt>
<dd><p>Permute the integration loop with the innermost loop in the assembly nest.
This transformation is legal if <tt class="docutils literal"><span class="pre">_precompute</span></tt> was invoked. Storage layout of
all 2-dimensional arrays involved in the element matrix computation is
transposed.</p>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.AssemblyOptimizer.split">
<tt class="descname">split</tt><span class="sig-paren">(</span><em>cut=1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyOptimizer.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split assembly expressions into multiple chunks exploiting sum&#8217;s
associativity. Each chunk will have <tt class="docutils literal"><span class="pre">cut</span></tt> summands.</p>
<p>For example, consider the following piece of code:</p>
<div class="highlight-python"><div class="highlight"><pre>for i
  for j
    A[i][j] += X[i]*Y[j] + Z[i]*K[j] + B[i]*X[j]
</pre></div>
</div>
<p>If <tt class="docutils literal"><span class="pre">cut=1</span></tt> the expression is cut into chunks of length 1:</p>
<div class="highlight-python"><div class="highlight"><pre>for i
  for j
    A[i][j] += X[i]*Y[j]
for i
  for j
    A[i][j] += Z[i]*K[j]
for i
  for j
    A[i][j] += B[i]*X[j]
</pre></div>
</div>
<p>If <tt class="docutils literal"><span class="pre">cut=2</span></tt> the expression is cut into chunks of length 2, plus a
remainder chunk of size 1:</p>
<div class="highlight-python"><div class="highlight"><pre>for i
  for j
    A[i][j] += X[i]*Y[j] + Z[i]*K[j]
# Remainder:
for i
  for j
    A[i][j] += B[i]*X[j]
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_optimizer.AssemblyRewriter">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_optimizer.</tt><tt class="descname">AssemblyRewriter</tt><span class="sig-paren">(</span><em>expr</em>, <em>int_loop</em>, <em>syms</em>, <em>decls</em>, <em>parent</em>, <em>hoisted</em>, <em>expr_graph</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyRewriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Provide operations to re-write an assembly expression:</p>
<ul class="simple">
<li>Loop-invariant code motion: find and hoist sub-expressions which are
invariant with respect to an assembly loop</li>
<li>Expansion: transform an expression <tt class="docutils literal"><span class="pre">(a</span> <span class="pre">+</span> <span class="pre">b)*c</span></tt> into <tt class="docutils literal"><span class="pre">(a*c</span> <span class="pre">+</span> <span class="pre">b*c)</span></tt></li>
<li>Distribute: transform an expression <tt class="docutils literal"><span class="pre">a*b</span> <span class="pre">+</span> <span class="pre">a*c</span></tt> into <tt class="docutils literal"><span class="pre">a*(b+c)</span></tt></li>
</ul>
<p>Initialize the AssemblyRewriter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expr</strong> &#8211; provide generic information related to an assembly
expression, including the depending for loops.</li>
<li><strong>int_loop</strong> &#8211; the loop along which integration is performed.</li>
<li><strong>syms</strong> &#8211; list of AST symbols used to evaluate the local element
matrix.</li>
<li><strong>decls</strong> &#8211; list of AST declarations of the various symbols in <tt class="docutils literal"><span class="pre">syms</span></tt>.</li>
<li><strong>parent</strong> &#8211; the parent AST node of the assembly loop nest.</li>
<li><strong>hoisted</strong> &#8211; dictionary that tracks hoisted expressions</li>
<li><strong>expr_graph</strong> &#8211; expression graph that tracks symbol dependencies</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.AssemblyRewriter.licm">
<tt class="descname">licm</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyRewriter.licm" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform loop-invariant code motion.</p>
<p>Invariant expressions found in the loop nest are moved &#8220;after&#8221; the
outermost independent loop and &#8220;after&#8221; the fastest varying dimension
loop. Here, &#8220;after&#8221; means that if the loop nest has two loops <tt class="docutils literal"><span class="pre">i</span></tt>
and <tt class="docutils literal"><span class="pre">j</span></tt>, and <tt class="docutils literal"><span class="pre">j</span></tt> is in the body of <tt class="docutils literal"><span class="pre">i</span></tt>, then <tt class="docutils literal"><span class="pre">i</span></tt> comes after
<tt class="docutils literal"><span class="pre">j</span></tt> (i.e. the loop nest has to be read from right to left).</p>
<p>For example, if a sub-expression <tt class="docutils literal"><span class="pre">E</span></tt> depends on <tt class="docutils literal"><span class="pre">[i,</span> <span class="pre">j]</span></tt> and the
loop nest has three loops <tt class="docutils literal"><span class="pre">[i,</span> <span class="pre">j,</span> <span class="pre">k]</span></tt>, then <tt class="docutils literal"><span class="pre">E</span></tt> is hoisted out from
the body of <tt class="docutils literal"><span class="pre">k</span></tt> to the body of <tt class="docutils literal"><span class="pre">i</span></tt>). All hoisted expressions are
then wrapped within a suitable loop in order to exploit compiler
autovectorization. Note that this applies to constant sub-expressions
as well, in which case hoisting after the outermost loop takes place.</p>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.AssemblyRewriter.count_occurrences">
<tt class="descname">count_occurrences</tt><span class="sig-paren">(</span><em>str_key=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyRewriter.count_occurrences" title="Permalink to this definition">¶</a></dt>
<dd><p>For each variable in the assembly expression, count how many times
it appears as involved in some operations. For example, for the
expression <tt class="docutils literal"><span class="pre">a*(5+c)</span> <span class="pre">+</span> <span class="pre">b*(a+4)</span></tt>, return <tt class="docutils literal"><span class="pre">{a:</span> <span class="pre">2,</span> <span class="pre">b:</span> <span class="pre">1,</span> <span class="pre">c:</span> <span class="pre">1}</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.AssemblyRewriter.expand">
<tt class="descname">expand</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyRewriter.expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand assembly expressions such that:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Y</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">Y</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="o">*</span><span class="n">F</span> <span class="o">+</span> <span class="o">...</span>
</pre></div>
</div>
<p>becomes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Y</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">*</span><span class="n">F</span>
<span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">Y</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">+</span> <span class="o">...</span>
</pre></div>
</div>
<p>This may be useful for several purposes:</p>
<ul class="simple">
<li>Relieve register pressure; when, for example, <tt class="docutils literal"><span class="pre">(X[i]*Y[j])</span></tt> is
computed in a loop L&#8217; different than the loop L&#8217;&#8217; in which <tt class="docutils literal"><span class="pre">Y[j]</span></tt>
is evaluated, and <tt class="docutils literal"><span class="pre">cost(L')</span> <span class="pre">&gt;</span> <span class="pre">cost(L'')</span></tt></li>
<li>It is also a step towards exposing well-known linear algebra
operations, like matrix-matrix multiplies.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.AssemblyRewriter.distribute">
<tt class="descname">distribute</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyRewriter.distribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply to the distributivity property to the assembly expression.
E.g.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">C</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
</pre></div>
</div>
<p>becomes</p>
<div class="highlight-python"><div class="highlight"><pre>A[i]*(B[j] + C[j]).
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.AssemblyRewriter.simplify">
<tt class="descname">simplify</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.AssemblyRewriter.simplify" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan the hoisted terms one by one and eliminate duplicate sub-expressions.
Remove useless assignments (e.g. a = b, and b never used later).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_optimizer.ExpressionExpander">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_optimizer.</tt><tt class="descname">ExpressionExpander</tt><span class="sig-paren">(</span><em>var_info</em>, <em>expr_graph</em>, <em>expr</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.ExpressionExpander" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Expand assembly expressions such that:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Y</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">Y</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="o">*</span><span class="n">F</span> <span class="o">+</span> <span class="o">...</span>
</pre></div>
</div>
<p>becomes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Y</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">*</span><span class="n">F</span>
<span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">Y</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">+</span> <span class="o">...</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="pyop2.coffee.ast_optimizer.ExpressionExpander.CONST">
<tt class="descname">CONST</tt><em class="property"> = -1</em><a class="headerlink" href="#pyop2.coffee.ast_optimizer.ExpressionExpander.CONST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyop2.coffee.ast_optimizer.ExpressionExpander.ITVAR">
<tt class="descname">ITVAR</tt><em class="property"> = -2</em><a class="headerlink" href="#pyop2.coffee.ast_optimizer.ExpressionExpander.ITVAR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.ExpressionExpander.expand">
<tt class="descname">expand</tt><span class="sig-paren">(</span><em>node</em>, <em>parent</em>, <em>it_vars</em>, <em>exp_var</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.ExpressionExpander.expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the expansion of the expression rooted in <tt class="docutils literal"><span class="pre">node</span></tt>. Terms are
expanded along the iteration variable <tt class="docutils literal"><span class="pre">exp_var</span></tt>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_optimizer.LoopScheduler">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_optimizer.</tt><tt class="descname">LoopScheduler</tt><span class="sig-paren">(</span><em>expr_graph</em>, <em>root</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.LoopScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for classes that handle loop scheduling; that is, loop fusion,
loop distribution, etc.</p>
<p>Initialize the LoopScheduler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expr_graph</strong> &#8211; the ExpressionGraph tracking all data dependencies involving
identifiers that appear in <tt class="docutils literal"><span class="pre">root</span></tt>.</li>
<li><strong>root</strong> &#8211; the node where loop scheduling takes place.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_optimizer.PerfectSSALoopMerger">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_optimizer.</tt><tt class="descname">PerfectSSALoopMerger</tt><span class="sig-paren">(</span><em>expr_graph</em>, <em>root</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.PerfectSSALoopMerger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_optimizer.LoopScheduler" title="pyop2.coffee.ast_optimizer.LoopScheduler"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_optimizer.LoopScheduler</span></tt></a></p>
<p>Analyze data dependencies and iteration spaces, then merge fusable
loops.
Statements must be in &#8220;soft&#8221; SSA form: they can be declared and initialized
at declaration time, then they can be assigned a value in only one place.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.PerfectSSALoopMerger.merge">
<tt class="descname">merge</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.PerfectSSALoopMerger.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge perfect loop nests rooted in <tt class="docutils literal"><span class="pre">self.root</span></tt>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_optimizer.ExprLoopFissioner">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_optimizer.</tt><tt class="descname">ExprLoopFissioner</tt><span class="sig-paren">(</span><em>expr_graph</em>, <em>root</em>, <em>cut</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.ExprLoopFissioner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_optimizer.LoopScheduler" title="pyop2.coffee.ast_optimizer.LoopScheduler"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_optimizer.LoopScheduler</span></tt></a></p>
<p>Analyze data dependencies and iteration spaces, then fission associative
operations in expressions.
Fissioned expressions are placed in a separate loop nest.</p>
<p>Initialize the ExprLoopFissioner.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cut</strong> &#8211; number of operands requested to fission expressions.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.ExprLoopFissioner.expr_fission">
<tt class="descname">expr_fission</tt><span class="sig-paren">(</span><em>expr</em>, <em>copy_loops</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.ExprLoopFissioner.expr_fission" title="Permalink to this definition">¶</a></dt>
<dd><p>Split an expression containing <tt class="docutils literal"><span class="pre">x</span></tt> summands into <tt class="docutils literal"><span class="pre">x/cut</span></tt> chunks.
Each chunk is placed in a separate loop nest if <tt class="docutils literal"><span class="pre">copy_loops</span></tt> is true,
in the same loop nest otherwise. Return a dictionary of all of the split
chunks, in which each entry has the same format of <tt class="docutils literal"><span class="pre">expr</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>expr</strong> &#8211; the expression that needs to be split. This is given as
a tuple of two elements: the former is the expression
root node; the latter includes info about the expression,
particularly iteration variables of the enclosing loops,
the enclosing loops themselves, and the parent block.</li>
<li><strong>copy_loops</strong> &#8211; true if the split expressions should be placed in two
separate, adjacent loop nests (iterating, of course,
along the same iteration space); false, otherwise.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_optimizer.ZeroLoopScheduler">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_optimizer.</tt><tt class="descname">ZeroLoopScheduler</tt><span class="sig-paren">(</span><em>expr_graph</em>, <em>root</em>, <em>decls</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.ZeroLoopScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyop2.coffee.ast_optimizer.LoopScheduler" title="pyop2.coffee.ast_optimizer.LoopScheduler"><tt class="xref py py-class docutils literal"><span class="pre">pyop2.coffee.ast_optimizer.LoopScheduler</span></tt></a></p>
<p>Analyze data dependencies, iteration spaces, and domain-specific
information to perform symbolic execution of the assembly code so as to
determine how to restructure the loop nests to skip iteration over
zero-valued columns.
This implies that loops can be fissioned or merged. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>for i = 0, N
  A[i] = C[i]*D[i]
  B[i] = E[i]*F[i]
</pre></div>
</div>
<p>If the evaluation of A requires iterating over a region of contiguous
zero-valued columns in C and D, then A is computed in a separate (smaller)
loop nest:</p>
<div class="highlight-python"><div class="highlight"><pre>for i = 0 &lt; (N-k)
  A[i+k] = C[i+k][i+k]
for i = 0, N
  B[i] = E[i]*F[i]
</pre></div>
</div>
<p>Initialize the ZeroLoopScheduler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>decls</strong> &#8211; lists of array declarations. A 2-tuple is expected: the first
element is the list of kernel declarations; the second element
is the list of hoisted temporaries declarations.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.ZeroLoopScheduler.reschedule">
<tt class="descname">reschedule</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.ZeroLoopScheduler.reschedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Restructure the loop nests rooted in <tt class="docutils literal"><span class="pre">self.root</span></tt> based on the
propagation of zero-valued columns along the computation. This, therefore,
involves fissing and fusing loops so as to remove iterations spent
performing arithmetic operations over zero-valued entries.
Return a list of dictionaries, a dictionary for each loop nest encountered.
Each entry in a dictionary is of the form {stmt: (itvars, parent, loops)},
in which <tt class="docutils literal"><span class="pre">stmt</span></tt> is a statement found in the loop nest from which the
dictionary derives, <tt class="docutils literal"><span class="pre">itvars</span></tt> is the tuple of the iteration variables of
the enclosing loops, <tt class="docutils literal"><span class="pre">parent</span></tt> is the AST node in which the loop nest is
rooted, <tt class="docutils literal"><span class="pre">loops</span></tt> is the tuple of loops composing the loop nest.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_optimizer.ExpressionGraph">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_optimizer.</tt><tt class="descname">ExpressionGraph</tt><a class="headerlink" href="#pyop2.coffee.ast_optimizer.ExpressionGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Track read-after-write dependencies between symbols.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.ExpressionGraph.add_dependency">
<tt class="descname">add_dependency</tt><span class="sig-paren">(</span><em>sym</em>, <em>expr</em>, <em>self_loop</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.ExpressionGraph.add_dependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract symbols from <tt class="docutils literal"><span class="pre">expr</span></tt> and create a read-after-write dependency
with <tt class="docutils literal"><span class="pre">sym</span></tt>. If <tt class="docutils literal"><span class="pre">sym</span></tt> already has a dependency, then <tt class="docutils literal"><span class="pre">sym</span></tt> has a
self dependency on itself.</p>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_optimizer.ExpressionGraph.has_dep">
<tt class="descname">has_dep</tt><span class="sig-paren">(</span><em>sym</em>, <em>target_sym=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_optimizer.ExpressionGraph.has_dep" title="Permalink to this definition">¶</a></dt>
<dd><p>If <tt class="docutils literal"><span class="pre">target_sym</span></tt> is not provided, return True if <tt class="docutils literal"><span class="pre">sym</span></tt> has a
read-after-write dependency with some other symbols. This is the case if
<tt class="docutils literal"><span class="pre">sym</span></tt> has either a self dependency or at least one input edge, meaning
that other symbols depend on it.
Otherwise, if <tt class="docutils literal"><span class="pre">target_sym</span></tt> is not None, return True if <tt class="docutils literal"><span class="pre">sym</span></tt> has a
read-after-write dependency on it, i.e. if there is an edge from
<tt class="docutils literal"><span class="pre">target_sym</span></tt> to <tt class="docutils literal"><span class="pre">sym</span></tt>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyop2.coffee.ast_plan">
<span id="pyop2-coffee-ast-plan-module"></span><h2>pyop2.coffee.ast_plan module<a class="headerlink" href="#module-pyop2.coffee.ast_plan" title="Permalink to this headline">¶</a></h2>
<p>Transform the kernel&#8217;s AST according to the backend we are running over.</p>
<dl class="class">
<dt id="pyop2.coffee.ast_plan.ASTKernel">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_plan.</tt><tt class="descname">ASTKernel</tt><span class="sig-paren">(</span><em>ast</em>, <em>include_dirs=</em><span class="optional">[</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_plan.ASTKernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Manipulate the kernel&#8217;s Abstract Syntax Tree.</p>
<p>The single functionality present at the moment is provided by the
<a class="reference internal" href="#pyop2.coffee.ast_plan.ASTKernel.plan_gpu" title="pyop2.coffee.ast_plan.ASTKernel.plan_gpu"><tt class="xref py py-meth docutils literal"><span class="pre">plan_gpu()</span></tt></a> method, which transforms the AST for GPU execution.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_plan.ASTKernel.plan_gpu">
<tt class="descname">plan_gpu</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_plan.ASTKernel.plan_gpu" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the kernel suitably for GPU execution.</p>
<p>Loops decorated with a <tt class="docutils literal"><span class="pre">pragma</span> <span class="pre">pyop2</span> <span class="pre">itspace</span></tt> are hoisted out of
the kernel. The list of arguments in the function signature is
enriched by adding iteration variables of hoisted loops. Size of
kernel&#8217;s non-constant tensors modified in hoisted loops are modified
accordingly.</p>
<p>For example, consider the following function:</p>
<div class="highlight-python"><div class="highlight"><pre>void foo (int A[3]) {
  int B[3] = {...};
  #pragma pyop2 itspace
  for (int i = 0; i &lt; 3; i++)
    A[i] = B[i];
}
</pre></div>
</div>
<p>plan_gpu modifies its AST such that the resulting output code is</p>
<div class="highlight-python"><div class="highlight"><pre>void foo(int A[1], int i) {
  A[0] = B[i];
}
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_plan.ASTKernel.plan_cpu">
<tt class="descname">plan_cpu</tt><span class="sig-paren">(</span><em>opts</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_plan.ASTKernel.plan_cpu" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform and optimize the kernel suitably for CPU execution.</p>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_plan.ASTKernel.gencode">
<tt class="descname">gencode</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_plan.ASTKernel.gencode" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a string representation of the AST.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_plan.init_coffee">
<tt class="descclassname">pyop2.coffee.ast_plan.</tt><tt class="descname">init_coffee</tt><span class="sig-paren">(</span><em>isa</em>, <em>comp</em>, <em>blas</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_plan.init_coffee" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize COFFEE.</p>
</dd></dl>

</div>
<div class="section" id="module-pyop2.coffee.ast_utils">
<span id="pyop2-coffee-ast-utils-module"></span><h2>pyop2.coffee.ast_utils module<a class="headerlink" href="#module-pyop2.coffee.ast_utils" title="Permalink to this headline">¶</a></h2>
<p>Utility functions for AST transformation.</p>
<dl class="function">
<dt id="pyop2.coffee.ast_utils.increase_stack">
<tt class="descclassname">pyop2.coffee.ast_utils.</tt><tt class="descname">increase_stack</tt><span class="sig-paren">(</span><em>asm_opt</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_utils.increase_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8220;Increase the stack size it the total space occupied by the kernel&#8217;s local
arrays is too big.</p>
</dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_utils.unroll_factors">
<tt class="descclassname">pyop2.coffee.ast_utils.</tt><tt class="descname">unroll_factors</tt><span class="sig-paren">(</span><em>sizes</em>, <em>ths</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_utils.unroll_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of unroll factors to run, given loop sizes in <tt class="docutils literal"><span class="pre">sizes</span></tt>.
The return value is a list of tuples, where each element in a tuple
represents the unroll factor for the corresponding loop in the nest.</p>
<p>For example, if there are three loops <tt class="docutils literal"><span class="pre">i</span></tt>, <tt class="docutils literal"><span class="pre">j</span></tt>, and <tt class="docutils literal"><span class="pre">k</span></tt>, a tuple
<tt class="docutils literal"><span class="pre">(2,</span> <span class="pre">1,</span> <span class="pre">1)</span></tt> in the returned list indicates that the outermost loop <tt class="docutils literal"><span class="pre">i</span></tt>
should be unrolled by a factor two (i.e. two iterations), while loops
<tt class="docutils literal"><span class="pre">j</span></tt> and <tt class="docutils literal"><span class="pre">k</span></tt> should not be unrolled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ths</strong> &#8211; unrolling threshold that cannot be exceed by the overall unroll
factor</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_utils.ast_update_ofs">
<tt class="descclassname">pyop2.coffee.ast_utils.</tt><tt class="descname">ast_update_ofs</tt><span class="sig-paren">(</span><em>node</em>, <em>ofs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_utils.ast_update_ofs" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a dictionary <tt class="docutils literal"><span class="pre">ofs</span></tt> s.t. <tt class="docutils literal"><span class="pre">{'itvar':</span> <span class="pre">ofs}</span></tt>, update the various
iteration variables in the symbols rooted in <tt class="docutils literal"><span class="pre">node</span></tt>.</p>
</dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_utils.itspace_size_ofs">
<tt class="descclassname">pyop2.coffee.ast_utils.</tt><tt class="descname">itspace_size_ofs</tt><span class="sig-paren">(</span><em>itspace</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_utils.itspace_size_ofs" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an <tt class="docutils literal"><span class="pre">itspace</span></tt> in the form</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">((</span><span class="s">&#39;itvar&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">bound_a</span><span class="p">,</span> <span class="n">bound_b</span><span class="p">),</span> <span class="o">...</span><span class="p">)),</span>
</pre></div>
</div>
<p>return</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(((</span><span class="s">&#39;it_var&#39;</span><span class="p">,</span> <span class="n">bound_b</span> <span class="o">-</span> <span class="n">bound_a</span><span class="p">),</span> <span class="o">...</span><span class="p">),</span> <span class="p">((</span><span class="s">&#39;it_var&#39;</span><span class="p">,</span> <span class="n">bound_a</span><span class="p">),</span> <span class="o">...</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_utils.itspace_merge">
<tt class="descclassname">pyop2.coffee.ast_utils.</tt><tt class="descname">itspace_merge</tt><span class="sig-paren">(</span><em>itspaces</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_utils.itspace_merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an iterator of iteration spaces, each iteration space represented
as a 2-tuple containing the start and end point, return a tuple of iteration
spaces in which contiguous iteration spaces have been merged. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>[(1,3), (4,6)] -&gt; ((1,6),)
[(1,3), (5,6)] -&gt; ((1,3), (5,6))
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-pyop2.coffee.ast_vectorizer">
<span id="pyop2-coffee-ast-vectorizer-module"></span><h2>pyop2.coffee.ast_vectorizer module<a class="headerlink" href="#module-pyop2.coffee.ast_vectorizer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyop2.coffee.ast_vectorizer.AssemblyVectorizer">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_vectorizer.</tt><tt class="descname">AssemblyVectorizer</tt><span class="sig-paren">(</span><em>assembly_optimizer</em>, <em>intrinsics</em>, <em>compiler</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.AssemblyVectorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Loop vectorizer</p>
<dl class="method">
<dt id="pyop2.coffee.ast_vectorizer.AssemblyVectorizer.alignment">
<tt class="descname">alignment</tt><span class="sig-paren">(</span><em>decl_scope</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.AssemblyVectorizer.alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Align all data structures accessed in the loop nest to the size in
bytes of the vector length.</p>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_vectorizer.AssemblyVectorizer.padding">
<tt class="descname">padding</tt><span class="sig-paren">(</span><em>decl_scope</em>, <em>nz_in_fors</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.AssemblyVectorizer.padding" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad all data structures accessed in the loop nest to the nearest
multiple of the vector length. Adjust trip counts and bounds of all
innermost loops where padded arrays are written to. Since padding
enforces data alignment of multi-dimensional arrays, add suitable
pragmas to inner loops to inform the backend compiler about this
property.</p>
</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_vectorizer.AssemblyVectorizer.outer_product">
<tt class="descname">outer_product</tt><span class="sig-paren">(</span><em>opts</em>, <em>factor=1</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.AssemblyVectorizer.outer_product" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute outer products according to <tt class="docutils literal"><span class="pre">opts</span></tt>.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">opts</span> <span class="pre">=</span> <span class="pre">V_OP_PADONLY</span></tt> : no peeling, just use padding</li>
<li><tt class="docutils literal"><span class="pre">opts</span> <span class="pre">=</span> <span class="pre">V_OP_PEEL</span></tt> : peeling for autovectorisation</li>
<li><tt class="docutils literal"><span class="pre">opts</span> <span class="pre">=</span> <span class="pre">V_OP_UAJ</span></tt> : set unroll_and_jam factor</li>
<li><tt class="docutils literal"><span class="pre">opts</span> <span class="pre">=</span> <span class="pre">V_OP_UAJ_EXTRA</span></tt> : as above, but extra iters avoid remainder
loop factor is an additional parameter to specify things like
unroll-and-jam factor. Note that factor is just a suggestion to the
compiler, which can freely decide to use a higher or lower value.</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_vectorizer.OuterProduct">
<em class="property">class </em><tt class="descclassname">pyop2.coffee.ast_vectorizer.</tt><tt class="descname">OuterProduct</tt><span class="sig-paren">(</span><em>stmt</em>, <em>loops</em>, <em>intr</em>, <em>nest</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.OuterProduct" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate outer product vectorisation of a statement.</p>
<dl class="attribute">
<dt id="pyop2.coffee.ast_vectorizer.OuterProduct.OP_STORE_IN_MEM">
<tt class="descname">OP_STORE_IN_MEM</tt><em class="property"> = 0</em><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.OuterProduct.OP_STORE_IN_MEM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pyop2.coffee.ast_vectorizer.OuterProduct.OP_REGISTER_INC">
<tt class="descname">OP_REGISTER_INC</tt><em class="property"> = 1</em><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.OuterProduct.OP_REGISTER_INC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="pyop2.coffee.ast_vectorizer.OuterProduct.Alloc">
<em class="property">class </em><tt class="descname">Alloc</tt><span class="sig-paren">(</span><em>intr</em>, <em>tensor_size</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.OuterProduct.Alloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Handle allocation of register variables.</p>
<dl class="method">
<dt id="pyop2.coffee.ast_vectorizer.OuterProduct.Alloc.get_reg">
<tt class="descname">get_reg</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.OuterProduct.Alloc.get_reg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_vectorizer.OuterProduct.Alloc.free_regs">
<tt class="descname">free_regs</tt><span class="sig-paren">(</span><em>regs</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.OuterProduct.Alloc.free_regs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_vectorizer.OuterProduct.Alloc.get_tensor">
<tt class="descname">get_tensor</tt><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.OuterProduct.Alloc.get_tensor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="method">
<dt id="pyop2.coffee.ast_vectorizer.OuterProduct.generate">
<tt class="descclassname">OuterProduct.</tt><tt class="descname">generate</tt><span class="sig-paren">(</span><em>rows</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.OuterProduct.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the outer-product intrinsics-based vectorisation code.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_vectorizer.vect_roundup">
<tt class="descclassname">pyop2.coffee.ast_vectorizer.</tt><tt class="descname">vect_roundup</tt><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.vect_roundup" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x rounded up to the vector length.</p>
</dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_vectorizer.vect_rounddown">
<tt class="descclassname">pyop2.coffee.ast_vectorizer.</tt><tt class="descname">vect_rounddown</tt><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.vect_rounddown" title="Permalink to this definition">¶</a></dt>
<dd><p>Return x rounded down to the vector length.</p>
</dd></dl>

<dl class="function">
<dt id="pyop2.coffee.ast_vectorizer.inner_loops">
<tt class="descclassname">pyop2.coffee.ast_vectorizer.</tt><tt class="descname">inner_loops</tt><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#pyop2.coffee.ast_vectorizer.inner_loops" title="Permalink to this definition">¶</a></dt>
<dd><p>Find inner loops in the subtree rooted in node.</p>
</dd></dl>

</div>
<div class="section" id="module-pyop2.coffee">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyop2.coffee" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pyop2.coffee package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pyop2.coffee.ast_autotuner">pyop2.coffee.ast_autotuner module</a></li>
<li><a class="reference internal" href="#module-pyop2.coffee.ast_base">pyop2.coffee.ast_base module</a></li>
<li><a class="reference internal" href="#module-pyop2.coffee.ast_linearalgebra">pyop2.coffee.ast_linearalgebra module</a></li>
<li><a class="reference internal" href="#module-pyop2.coffee.ast_optimizer">pyop2.coffee.ast_optimizer module</a></li>
<li><a class="reference internal" href="#module-pyop2.coffee.ast_plan">pyop2.coffee.ast_plan module</a></li>
<li><a class="reference internal" href="#module-pyop2.coffee.ast_utils">pyop2.coffee.ast_utils module</a></li>
<li><a class="reference internal" href="#module-pyop2.coffee.ast_vectorizer">pyop2.coffee.ast_vectorizer module</a></li>
<li><a class="reference internal" href="#module-pyop2.coffee">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="pyop2.html"
                        title="previous chapter">pyop2 package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pyop2.coffee.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pyop2.html" title="pyop2 package"
             >previous</a> |</li>
        <li><a href="index.html">PyOP2 0.11.0 documentation</a> &raquo;</li>
          <li><a href="pyop2.html" >pyop2 package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2012-2013, Imperial College et al.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3a0.
    </div>
  </body>
</html>